@model VMS_MES_WEB.Controllers.CapacityController.TestData

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />

<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>

<div style="display:none;" class="row">
    <div class="form-group">
        @Html.HiddenFor(m => m.columns, new { @id = "dataObjCol", placeholder = Html.DisplayNameFor(m => m.columns), @class = "form-control" })
        @Html.HiddenFor(m => m.data, new { @id = "dataObjData", placeholder = Html.DisplayNameFor(m => m.data), @class = "form-control" })
    </div>
</div>
<hr />

<div class="row">
    <div>
        <table class="table table-striped table-bordered table-hover"
               id="TableId"
               cellspacing="0"
               align="center"
               width="100%" border="1"></table>
    </div>
</div>
<hr />
<script type="text/javascript">
    $(document).ready(function () {
        //debugger;
        alert($('#dataObjCol').val());
        var dataObjCol = JSON.parse($('#dataObjCol').val());
        var dataObjData = JSON.parse($('#dataObjData').val());

        // Datatable settings.
        $('#TableId').DataTable(
            {
                "data": dataObjData,
                "columns": dataObjCol,
                "bPaginate": false,
                "bFilter": false,
                "bInfo": false,
                "autoWidth": false,
                "bSort": false,
                "columnDefs": [
                    {
                        "width": "28px",
                        "targets": "0",
                        "className": "text-right"
                    },
                    {
                        "width": "2px",
                        "targets": "1",
                        "className": "text-right"
                    }
                ]
            });
    });
</script>

@*<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            //Call LoadTable jsonResult Method
            $.getJSON("LoadTable",
                function (json) {
                    var colHeader = Object.keys(json[0]);

                    for (var i = 0; i < colHeader.length; i++) {
                        $('table thead tr').append('<th>' + colHeader[i] + '</th>');
                    }

                    for (var i = 0; i < json.length; i++) {
                        $('table tbody').append('<tr></tr>')
                        for (var j = 0; j < colHeader.length; j++) {
                            $('table tbody tr').last().append('<td>' + json[i][colHeader[j]] + '</td>');
                        }
                    }
                }
    </script>
    <table>
        <thead>
            <tr></tr>
        </thead>
        <tbody></tbody>
    </table>*@
